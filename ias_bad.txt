{
    "user": {
        "mappings": [
            {
                "sourcePath": "$",
                "targetPath": "$"
            },
            {
                "sourcePath": "$.id",
                "targetVariable": "entityIdSourceSystem"
            },
            {
                "sourcePath": "$.id",
                "targetPath": "$.userName"
            },
            {
                "targetPath": "$.id",
                "type": "remove"
            },
            {
                "constant": true,
                "targetPath": "$.active"
            },
            {
                "sourcePath": "$.active",
                "optional": true,
                "targetPath": "$.active"
            },
            {
                "condition": "$.groups[?(@.value == 'JamAdministrators')] EMPTY false",
                "constant": "Administrator",
                "targetPath": "$.roles[0].value"
            }
        ]
    },
    "group": {
        "ignore": false,
        "mappings": [
            {
                "sourcePath": "$",
                "targetPath": "$"
            },
            {
                "sourcePath": "$.id",
                "targetVariable": "entityIdSourceSystem"
            },
            {
                "targetPath": "$.id",
                "type": "remove"
            },
            {
                "constant": "urn:ietf:params:scim:schemas:core:2.0:Group",
                "targetPath": "$.schemas[0]"
            },
            {
                "targetPath": "$.meta",
                "type": "remove"
            },
            {
                "sourcePath": "$.member",
                "preserveArrayWithSingleElement": true,
                "optional": true,
                "targetPath": "$.members[?(@.value)]",
                "functions": [
                    {
                        "type": "resolveEntityIds"
                    }
                ]
            },
            {
                "targetPath": "$.member",
                "type": "remove"
            }
        ]
    }
}
